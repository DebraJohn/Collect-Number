(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,function(e,t,n){e.exports=n(21)},,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(7),i=n.n(r),o=(n(15),n(1)),l=n(2),u=n(4),s=n(3),m=n(5),h=(n(16),n(8)),f=new(n.n(h).a),d=function(e){var t,n;t="testPlayer1",n=JSON.stringify(e),localStorage.setItem("collectGame_".concat(t),n)},v=function(e){return JSON.parse(function(e){return localStorage.getItem("collectGame_".concat(e))}(e))},b=function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=[],a=!0,c=!1,r=void 0;try{for(var i,o=e[Symbol.iterator]();!(a=(i=o.next()).done);a=!0)for(var l=i.value,u=l.num,s=l.chance,m=0;m<s*t;m++)n.push(u)}catch(h){c=!0,r=h}finally{try{a||null==o.return||o.return()}finally{if(c)throw r}}return n[~~(Math.random()*n.length)]}([{num:1,chance:.55},{num:2,chance:.3},{num:4,chance:.1},{num:8,chance:.05}])},p={1:"cake",2:"pizza",4:"popsicle",8:"doughnut",16:"macaron",32:"sushi",64:"hotdog",128:"bread",256:"chips",512:"taco",1024:"strawberry",2048:"cookie",4096:"pistachio",8192:"popcorn",16384:"pecan",32768:"pudding",65536:"mochi",131072:"eggyolkcake",262144:"cashew"},N=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(u.a)(this,Object(s.a)(t).call(this))).colNum=3,e.vacentArea=e.colNum*e.colNum,e.state={blockNum:v("testPlayer1")||[[1,0,0],[0,0,0],[0,0,0]],toggle:0},e.prevPos=[],e.toggle=0,e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.blockNum,a=t.toggle,r=n.map(function(t,n){return t.map(function(t,r){return c.a.createElement("div",{className:"block",key:n*e.colNum+r,onClick:function(){return e.handleChess(n,r)}},t?c.a.createElement("div",null,c.a.createElement("span",{className:"number".concat(e.isArrayEqual(e.prevPos,[n,r])&&a?" lifted":"")},c.a.createElement("i",{className:"icon ".concat(p[t])}))):"")})});return c.a.createElement("div",{className:"collect-board"},r)}},{key:"componentDidMount",value:function(){var e=this;this.eventEmitter=f.addListener("sendNumber",function(t){e.recievedNewNumber(t)}),this.deleteListener=f.addListener("deleteNumber",function(){e.setState({blockNum:[[0,0,0],[0,0,0],[0,0,0]]})})}},{key:"handleChess",value:function(e,t){var n=this.state.toggle;n?this.switchChess(this.prevPos,[e,t]):this.prevPos=[e,t],this.setState({toggle:!n})}},{key:"switchChess",value:function(e,t){if(!this.isArrayEqual(e,t)){var n=this.state.blockNum,a=e[0],c=[e[1]],r=t[0],i=[t[1]],o=n[a][c],l=n[r][i];n[a][c]=o!==l?[l,n[r][i]=o][0]:[0,n[r][i]=l+o][0],this.setState({blockNum:n}),d(n)}}},{key:"isArrayEqual",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.toString()===t.toString()}},{key:"recievedNewNumber",value:function(e){var t=this.state.blockNum;if(this.findVacentPos()){var n=this.findVacentPos()[0],a=this.findVacentPos()[1];t[n][a]=e,this.setState({blockNum:t})}else this.vacentArea=0}},{key:"findVacentPos",value:function(){var e=this.state.blockNum;for(var t in e){var n=e[t].findIndex(function(e){return 0===e});if(-1!==n)return[t,n]}}}]),t}(c.a.Component),k=(n(17),function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(u.a)(this,Object(s.a)(t).call(this))).state={},e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"topActions"},c.a.createElement("div",{className:"delete",onClick:function(){return e.delete()}},c.a.createElement("i",{className:"icon trashBin"}),c.a.createElement("span",null,"\u91cd\u7f6e")),c.a.createElement("div",{className:"dice",onClick:function(){return e.summon()}},c.a.createElement("i",{className:"icon weibolu"}),c.a.createElement("span",null,"\u6765\u4e00\u53d1")))}},{key:"summon",value:function(){f.emit("sendNumber",b())}},{key:"delete",value:function(){f.emit("deleteNumber","reStart")}}]),t}(c.a.Component)),g=(n(18),function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(u.a)(this,Object(s.a)(t).call(this))).state={},e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"footer"})}}]),t}(c.a.Component));n(19),n(20);var y=function(){return c.a.createElement("div",{className:"App"},c.a.createElement(k,null),c.a.createElement(N,null),c.a.createElement(g,null))};i.a.render(c.a.createElement(y,null),document.getElementById("root"))}],[[9,1,2]]]);
//# sourceMappingURL=main.75623ddc.chunk.js.map